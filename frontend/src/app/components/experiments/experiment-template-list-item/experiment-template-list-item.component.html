<mat-card appearance="outlined">
    <mat-card-header [routerLink]="['/experiments/templates', template.id]">
        <mat-card-subtitle>{{template.id}}</mat-card-subtitle>
        <mat-card-title>
            <h3>{{template.name}}</h3>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <div class="state" *ngIf="template.state != 'FINISHED'">
            <ng-container *ngIf="!template.approved">
                <span><mat-icon matTooltip="Experiment templates created by users are manually reviewed and then approved for use">search</mat-icon>Waiting for approval</span>
            </ng-container>
            <ng-container *ngIf="template.approved">
                <span *ngIf="template.state == 'CREATED'"><mat-icon>schedule</mat-icon>Scheduled</span>
                <span class="in-progress" *ngIf="template.state == 'BUILDING_IMAGE'"><mat-icon>rotate_right</mat-icon>Building image</span>
                <span class="in-progress" *ngIf="template.state == 'PUSHING_IMAGE'"><mat-icon>rotate_right</mat-icon>Pushing image</span>
                <span class="crashed" *ngIf="template.state == 'CRASHED'"><mat-icon>error</mat-icon>Crashed</span>
            </ng-container>
            
        </div>
        <div>
            {{template.description | ellipsis:300}}
        </div>
    </mat-card-content>
    <mat-card-actions>
        <a [routerLink]="['/experiments/templates', template.id]">
            <button mat-stroked-button >Go to detail</button>
        </a>
    </mat-card-actions>
</mat-card>